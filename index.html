<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>لوحة التحكم</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <div id="login-page" class="page">
        <div class="login-form">
            <h2>تسجيل الدخول</h2>
            <input type="text" id="discord-token" placeholder="ادخل توكن Discord">
            <button id="login-btn">تسجيل الدخول</button>
        </div>
    </div>

    <div id="dashboard" class="page">
        <div class="navbar">
            <div class="nav-items">
                <a href="#" data-section="settings" class="nav-item active">الإعدادات</a>
                <a href="#" data-section="notifications" class="nav-item">الإشعارات</a>
                <a href="#" data-section="logout" class="nav-item">تسجيل الخروج</a>
            </div>
        </div>

        <div id="settings" class="section active">
            <h3>الإعدادات</h3>
            <label class="toggle-switch">
                <input type="checkbox" id="two-factor-auth">
                <span class="slider"></span>
            </label>
            <span>المصادقة الثنائية</span>
            <button class="btn" id="change-password-btn"><i class="fas fa-key"></i> تغيير كلمة المرور</button>
        </div>

        <div id="notifications" class="section">
            <h3>الإشعارات</h3>
            <label class="toggle-switch">
                <input type="checkbox" id="notif-messages" checked>
                <span class="slider"></span>
            </label>
            <span>إشعارات الرسائل</span>

            <label class="toggle-switch">
                <input type="checkbox" id="notif-mentions" checked>
                <span class="slider"></span>
            </label>
            <span>إشعارات الإشارات</span>
        </div>

        <div id="logout" class="section">
            <h3>تسجيل الخروج</h3>
            <button class="btn" id="logout-btn">تسجيل الخروج</button>
        </div>
    </div>

    <script src="app.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const loginPage = document.getElementById('login-page');
            const dashboard = document.getElementById('dashboard');
            const loginBtn = document.getElementById('login-btn');
            const logoutBtn = document.getElementById('logout-btn');
            const navItems = document.querySelectorAll('.nav-item');
            const tokenInput = document.getElementById('discord-token');

            let discordToken = null;

            // Login button click handler
            loginBtn.addEventListener('click', async () => {
                discordToken = tokenInput.value.trim();
                if (!discordToken) return;

                loginPage.style.display = 'none';
                dashboard.style.display = 'flex';

                // Fetch user data or perform login actions
                try {
                    const user = await fetchUserData(discordToken);
                    if (user) {
                        updateUI();
                        showToast('تم تسجيل الدخول بنجاح', 'success');
                    }
                } catch (error) {
                    showToast('فشل في تسجيل الدخول', 'error');
                }
            });

            // Logout button click handler
            logoutBtn.addEventListener('click', async () => {
                discordToken = null;
                loginPage.style.display = 'flex';
                dashboard.style.display = 'none';

                showToast('تم تسجيل الخروج بنجاح', 'success');
            });

            // Navigation items click handlers
            navItems.forEach(item => {
                item.addEventListener('click', function (e) {
                    e.preventDefault();
                    navItems.forEach(navItem => navItem.classList.remove('active'));
                    this.classList.add('active');
                    const section = this.getAttribute('data-section');
                    loadSection(section);
                });
            });

            // Function to load a specific section in the dashboard
            function loadSection(section) {
                const sections = document.querySelectorAll('.section');
                sections.forEach(sec => sec.classList.remove('active'));
                document.getElementById(section).classList.add('active');
            }

            // Function to show toast notifications
            function showToast(message, type) {
                const toast = document.createElement('div');
                toast.className = `toast ${type}`;
                toast.textContent = message;
                document.body.appendChild(toast);
                setTimeout(() => {
                    toast.remove();
                }, 3000);
            }

            // Fetch user data from Discord API
            async function fetchUserData(token) {
                // Perform fetch request to Discord API with token
                const response = await fetch('https://discord.com/api/v9/users/@me', {
                    headers: {
                        'Authorization': `Bot ${token}`
                    }
                });
                return response.json();
            }

            // Update UI with user info
            function updateUI() {
                // Logic to update the UI with user info after login
            }
        });
    </script>

</body>
</html>
